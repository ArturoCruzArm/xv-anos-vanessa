<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Invitaci√≥n a los XV a√±os de Barbara Brittany - 11 de abril de 2026">
    <meta name="theme-color" content="#c41e3a">
    <title>XV A√±os - Barbara Brittany</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600;700&family=Playfair+Display:wght@400;700;900&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Decoraciones Flotantes -->
    <div class="floating-flower" style="left: 10%; animation-delay: 0s;">‚ùÄ</div>
    <div class="floating-flower" style="left: 30%; animation-delay: 3s;">‚úø</div>
    <div class="floating-flower" style="left: 50%; animation-delay: 6s;">‚ùÅ</div>
    <div class="floating-flower" style="left: 70%; animation-delay: 9s;">‚ùÄ</div>
    <div class="floating-flower" style="left: 90%; animation-delay: 12s;">‚úø</div>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="crown"><i class="fas fa-crown"></i></div>
            <h1 class="main-title">MIS XV A√ëOS</h1>
            <h2 class="quincea√±era-name">Barbara Brittany</h2>
            <div class="divider"></div>
        </header>

        <!-- Bienvenida Personalizada (Solo visible con par√°metros QR) -->
        <section id="personalizedWelcome" style="display: none; background: linear-gradient(135deg, rgba(196, 30, 58, 0.9), rgba(139, 0, 0, 0.9)); padding: 30px; border-radius: 20px; text-align: center; margin: 20px auto; border: 3px solid var(--gold); box-shadow: 0 10px 40px rgba(212, 175, 55, 0.3);">
            <div style="font-size: 3rem; margin-bottom: 15px;">üéâ</div>
            <h2 style="color: var(--gold); font-family: 'Playfair Display', serif; font-size: 2rem; margin-bottom: 15px;">
                ¬°Bienvenido(a)!
            </h2>
            <p id="guestWelcomeText" style="color: var(--cream); font-size: 1.3rem; line-height: 1.6; margin-bottom: 10px;"></p>
            <p id="guestPassesText" style="color: var(--gold); font-size: 1.1rem; font-weight: bold; margin-top: 10px;"></p>
            <div style="margin-top: 20px;">
                <a href="#rsvp" style="display: inline-block; background: var(--gold); color: var(--burgundy); padding: 12px 30px; border-radius: 25px; text-decoration: none; font-weight: bold; transition: all 0.3s;">
                    <i class="fas fa-check-circle"></i> Confirmar Asistencia
                </a>
            </div>
        </section>

        <!-- Quote -->
        <div class="quote">
            "Hoy comienza un nuevo cap√≠tulo lleno de sue√±os, ilusiones y magia. <br>
            Gracias por acompa√±arme en este d√≠a tan especial."
        </div>

        <!-- Foto Principal (placeholder - agregar despu√©s) -->
        <section style="padding: 0; background: transparent; border: none; box-shadow: none;">
            <div style="max-width: 900px; margin: 0 auto; position: relative; border-radius: 20px; overflow: hidden; border: 4px solid var(--gold); box-shadow: 0 12px 50px rgba(212, 175, 55, 0.4);">
                <div style="background: rgba(255,255,255,0.1); padding: 100px 20px; text-align: center; color: var(--gold);">
                    <i class="fas fa-image" style="font-size: 4rem;"></i>
                    <p style="margin-top: 20px;">Foto Principal - Pr√≥ximamente</p>
                </div>
            </div>
        </section>

        <!-- Countdown -->
        <section>
            <h2 class="section-title"><i class="fas fa-clock"></i> Cuenta Regresiva</h2>
            <div class="countdown" id="countdown">
                <div class="countdown-item">
                    <span class="countdown-value" id="days">00</span>
                    <span class="countdown-label">D√≠as</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-value" id="hours">00</span>
                    <span class="countdown-label">Horas</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-value" id="minutes">00</span>
                    <span class="countdown-label">Minutos</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-value" id="seconds">00</span>
                    <span class="countdown-label">Segundos</span>
                </div>
            </div>
        </section>

        <!-- Family -->
        <section>
            <h2 class="section-title"><i class="fas fa-users"></i> Mi Familia</h2>
            <div class="family-section">
                <div class="family-card">
                    <div class="family-icon"><i class="fas fa-home"></i></div>
                    <div class="family-role">Mis Padres</div>
                    <div class="family-names">
                        Patricia<br>
                        <span id="fatherName">[Por confirmar]</span>
                    </div>
                </div>
                <div class="family-card">
                    <div class="family-icon"><i class="fas fa-heart"></i></div>
                    <div class="family-role">Mis Padrinos</div>
                    <div class="family-names">
                        <span id="padrinoName">[Por confirmar]</span><br>
                        <span id="madrinaName">[Por confirmar]</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Event Details -->
        <section>
            <h2 class="section-title"><i class="fas fa-map-marker-alt"></i> Detalles del Evento</h2>
            <div class="event-details">
                <!-- Ceremony -->
                <div class="event-card">
                    <span class="event-icon"><i class="fas fa-church"></i></span>
                    <h3 class="event-title">Ceremonia</h3>
                    <div class="event-info">
                        <strong><i class="fas fa-calendar-alt"></i> Fecha</strong>
                        <span id="eventDate">Viernes, 11 de abril de 2026</span>
                    </div>
                    <div class="event-info">
                        <strong><i class="fas fa-clock"></i> Hora</strong>
                        16:00 hrs
                    </div>
                    <div class="event-info">
                        <strong><i class="fas fa-map-marker-alt"></i> Lugar</strong>
                        <span id="churchName">Parroquia San Juan Bautista de la Salle</span><br>
                        <span id="churchAddress" style="font-size: 0.9rem; color: var(--cream);">Piletas IV, Le√≥n, Guanajuato</span>
                    </div>
                    <div style="margin-top: 20px;">
                        <a href="#" id="churchMapLink" target="_blank" class="btn"><i class="fas fa-map-marked-alt"></i> Ver Mapa</a>
                        <button onclick="addToCalendar('ceremony')" class="btn btn-secondary"><i class="fas fa-calendar-plus"></i> Agendar</button>
                    </div>
                </div>

                <!-- Reception -->
                <div class="event-card">
                    <span class="event-icon"><i class="fas fa-glass-cheers"></i></span>
                    <h3 class="event-title">Recepci√≥n</h3>
                    <div class="event-info">
                        <strong><i class="fas fa-calendar-alt"></i> Fecha</strong>
                        <span id="eventDate">Viernes, 11 de abril de 2026</span>
                    </div>
                    <div class="event-info">
                        <strong><i class="fas fa-clock"></i> Hora</strong>
                        18:30 hrs
                    </div>
                    <div class="event-info">
                        <strong><i class="fas fa-map-marker-alt"></i> Lugar</strong>
                        <span id="salonName">Granja El General</span><br>
                        <span id="salonAddress" style="font-size: 0.9rem; color: var(--cream);">Le√≥n de los Aldama, Gto.</span>
                    </div>
                    <div style="margin-top: 20px;">
                        <a href="#" id="salonMapLink" target="_blank" class="btn"><i class="fas fa-map-marked-alt"></i> Ver Mapa</a>
                        <button onclick="addToCalendar('reception')" class="btn btn-secondary"><i class="fas fa-calendar-plus"></i> Agendar</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dress Code -->
        <section>
            <h2 class="section-title"><i class="fas fa-tshirt"></i> C√≥digo de Vestimenta</h2>
            <div class="dress-code">
                <div class="dress-code-icons"><i class="fas fa-user-tie"></i> <i class="fas fa-female"></i></div>
                <p class="dress-code-text">FORMAL / ELEGANTE</p>
                <p style="margin-top: 15px; font-size: 1rem; color: var(--cream);">
                    Te pedimos asistir con vestimenta formal para hacer de esta noche una ocasi√≥n a√∫n m√°s especial
                </p>
            </div>
        </section>

        <!-- Mesa de Regalos -->
        <section>
            <h2 class="section-title"><i class="fas fa-gift"></i> Mesa de Regalos</h2>
            <div style="text-align: center; padding: 30px;">
                <p style="font-size: 1.2rem; color: var(--cream); margin-bottom: 30px;">
                    Tu presencia es nuestro mejor regalo, pero si deseas obsequiarnos algo,
                    <br>hemos preparado algunas sugerencias
                </p>
                <a href="mesa-regalos.html" class="btn" style="font-size: 1.1rem;">
                    <i class="fas fa-gift"></i> Ver Mesa de Regalos
                </a>
            </div>
        </section>

        <!-- RSVP -->
        <section id="rsvp">
            <h2 class="section-title"><i class="fas fa-envelope"></i> Confirma tu Asistencia</h2>
            <p style="text-align: center; margin-bottom: 30px; color: var(--cream);">
                Por favor confirma tu asistencia antes del <span id="confirmacionLimite">5 de abril de 2026</span>
            </p>
            <div class="rsvp-form">
                <form id="rsvpForm" onsubmit="submitRSVP(event)">
                    <div class="form-group">
                        <label for="name">Nombre Completo *</label>
                        <input type="text" id="name" name="name" required placeholder="Tu nombre completo">
                    </div>
                    <div class="form-group">
                        <label for="phone">Tel√©fono *</label>
                        <input type="tel" id="phone" name="phone" required placeholder="10 d√≠gitos">
                    </div>
                    <div class="form-group">
                        <label for="guests">N√∫mero de Invitados *</label>
                        <select id="guests" name="guests" required>
                            <option value="">Selecciona...</option>
                            <option value="1">1 persona</option>
                            <option value="2">2 personas</option>
                            <option value="3">3 personas</option>
                            <option value="4">4 personas</option>
                            <option value="5">5 personas</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="attendance">¬øConfirmas tu asistencia? *</label>
                        <select id="attendance" name="attendance" required>
                            <option value="">Selecciona...</option>
                            <option value="si">S√≠, asistir√©</option>
                            <option value="no">No podr√© asistir</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="message">Mensaje (Opcional)</label>
                        <textarea id="message" name="message" placeholder="D√©jame un mensaje..."></textarea>
                    </div>
                    <div style="text-align: center;">
                        <button type="submit" class="btn"><i class="fas fa-paper-plane"></i> Enviar Confirmaci√≥n</button>
                    </div>
                </form>
                <div id="successMessage" class="success-message">
                    <i class="fas fa-check-circle"></i> ¬°Gracias! Tu confirmaci√≥n ha sido enviada correctamente.
                </div>
            </div>
        </section>

        <!-- Photo Gallery -->
        <section>
            <h2 class="section-title"><i class="fas fa-camera"></i> Galer√≠a de Fotos</h2>
            <p style="text-align: center; margin-bottom: 30px; color: var(--cream);">
                Pr√≥ximamente se agregar√°n las fotos de la sesi√≥n
            </p>
            <div class="gallery-preview" id="galleryPreview">
                <!-- Preview photos will be loaded here -->
            </div>
        </section>

        <!-- Social Share -->
        <section class="social-share">
            <h2 class="section-title"><i class="fas fa-share-alt"></i> Comparte</h2>
            <p style="margin-bottom: 20px; color: var(--cream);">
                Ay√∫dame a compartir esta invitaci√≥n con tus amigos y familiares
            </p>
            <div class="social-icons">
                <a href="#" onclick="shareWhatsApp()" class="social-icon" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                <a href="#" onclick="shareFacebook()" class="social-icon" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="#" onclick="shareTwitter()" class="social-icon" title="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="#" onclick="copyLink()" class="social-icon" title="Copiar enlace"><i class="fas fa-link"></i></a>
            </div>
        </section>

        <!-- Footer -->
        <footer>
            <p style="font-size: 1.2rem; margin-bottom: 15px;"><i class="fas fa-sparkles"></i> ¬°Nos vemos el <span id="footerDate">11 de abril</span>! <i class="fas fa-sparkles"></i></p>
            <div class="divider" style="margin: 20px auto;"></div>
            <p>Producciones Foro 7</p>
            <p>Fotograf√≠a, Video, Dron e Invitaciones Web</p>
            <p><i class="fas fa-phone-alt"></i> Contacto: 477-920-3776</p>
            <p style="margin-top: 20px; font-size: 0.9rem; opacity: 0.7;">
                ¬© 2026 - Barbara Brittany XV A√±os
            </p>
        </footer>
    </div>

    <script src="js/data-loader.js"></script>

    <script>
        // Load event data on page load
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                const eventoData = await dataLoader.loadJSON('data/data.json');
                
                if (eventoData) {
                    // Safe update function
                    const safeUpdate = (id, value) => {
                        const el = document.getElementById(id);
                        if (el && value) el.textContent = value;
                    };

                    // Update all elements safely
                    safeUpdate('churchName', eventoData.ubicaciones?.iglesia?.nombre);
                    safeUpdate('salonName', eventoData.ubicaciones?.salon?.nombre);
                    safeUpdate('churchAddress', eventoData.ubicaciones?.iglesia?.direccion);
                    safeUpdate('salonAddress', eventoData.ubicaciones?.salon?.direccion);
                    
                    // Update map links
                    const churchMapLink = document.getElementById('churchMapLink');
                    if (churchMapLink && eventoData.ubicaciones?.iglesia?.googleMaps) {
                        churchMapLink.href = eventoData.ubicaciones.iglesia.googleMaps;
                    }
                    
                    const salonMapLink = document.getElementById('salonMapLink');
                    if (salonMapLink && eventoData.ubicaciones?.salon?.googleMaps) {
                        salonMapLink.href = eventoData.ubicaciones.salon.googleMaps;
                    }
                    safeUpdate('motherName', eventoData.padres?.madre);
                    safeUpdate('fatherName', eventoData.padres?.padre);
                    safeUpdate('padrinoName', eventoData.padrinos?.padrino);
                    safeUpdate('madrinaName', eventoData.padrinos?.madrina);

                    // Update dates
                    if (eventoData.fechas?.evento) {
                        const fecha = new Date(eventoData.fechas.evento + 'T12:00:00');
                        const opciones = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                        const fechaFormateada = fecha.toLocaleDateString('es-MX', opciones);
                        const fechaCapitalizada = fechaFormateada.charAt(0).toUpperCase() + fechaFormateada.slice(1);

                        // Update all date displays
                        document.querySelectorAll('#eventDate').forEach(el => {
                            if (el) el.textContent = fechaCapitalizada;
                        });

                        // Update footer date
                        const footerEl = document.getElementById('footerDate');
                        if (footerEl) {
                            const meses = ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio',
                                          'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'];
                            footerEl.textContent = fecha.getDate() + ' de ' + meses[fecha.getMonth()];
                        }
                    }
                    

                    // Update confirmation deadline
                    if (eventoData.fechas?.confirmacionLimite) {
                        const fechaLimite = new Date(eventoData.fechas.confirmacionLimite + 'T12:00:00');
                        const meses = ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio',
                                      'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'];
                        const fechaFormateadaLimite = fechaLimite.getDate() + ' de ' + meses[fechaLimite.getMonth()] + ' de ' + fechaLimite.getFullYear();
                        safeUpdate('confirmacionLimite', fechaFormateadaLimite);
                    }
                    console.log('‚úì Datos del evento cargados correctamente');
                }
            } catch (error) {
                console.error('Error cargando datos del evento:', error);
            }
        });
    </script>

    <script src="js/main.js"></script>

</body>
</html>
